!function(e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():window.progressBar=e()}(function(){function e(e){function t(e){return"-"+e.toLowerCase()}return-1!==e.indexOf("-")?e.toLowerCase():e.replace(/^[A-Z]/,function(e){return e.toLowerCase()}).replace(/^(webkit|moz|ms|o)/i,function(e){return"-"+e}).replace(/[A-Z]/g,t)}function t(){return"undefined"!=typeof TransitionEvent?"transitionend":"undefined"!=typeof WebKitTransitionEvent?"webkitTransitionEnd":void 0}function n(){function e(){w=o(function(){l>6&&(l-=Math.random(),y.style[d]="translateX("+-l+"%)",y.style[f]="none",w=o(e))})}function n(){i(w),y.style.removeProperty(f),p="TRANSFORM_STOP"}function a(){y.style.display="block",n(),"TRANSFORM_STOP"!==p&&(l=95),p="TRANSFORMING",y.style[d]="translateX("+-l+"%)",o(function(){y.style.opacity=1,y.style[f]="opacity .2s ease-out",e()})}function s(e){"number"==typeof e&&e>0&&1>e?(y.style.display="block",y.style.opacity=1,y.style[d]="translateX("+-l+"%)",y.style[f]="all .2s ease-out",p="TRANSFORM_SET",setTimeout(function(){l=100*(1-e),y.style[d]="translateX("+-l+"%)"},20)):console.error("set arguments value muse be between 0 to 1")}function u(){"FINISHED"!==p&&"TRANSFORM_END"!==p&&(n(),l=0,p="TRANSFORM_END",f?o(function(){setTimeout(function(){y.style[d]="translateX(0)",y.style[f]="all .3s ease-out"},20)}):(y.style[d]="translateX(0)",setTimeout(function(){y.removeAttribute("style"),y.style.display="none",l=95,p="FINISHED"},200)))}function c(){return p}var l=95,d=r("transform"),f=r("transition"),m=t(),y=document.getElementById("progressBar");null==y&&(y=document.createElement("div"),y.id="progressBar",document.body.appendChild(y));var p="FINISHED";y.addEventListener(m,function(){"TRANSFORM_END"===p?(y.style.opacity=0,y.style[f]="opacity .5s ease-in",p="FINISHING"):"FINISHING"===p&&(y.removeAttribute("style"),y.style.display="none",l=95,p="FINISHED")},!1);var w;return{start:a,stop:n,set:s,done:u,status:c}}var o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;window.requestAnimationFrame=o,window.cancelAnimationFrame=i;var r=function(){var t,n=["","-webkit-","-moz-","-ms-","-o-"],o=document.createElement("div"),i=o.style;return function(r){r=e(r);for(var a=0,s=n.length;s>a;a++)if(t="",t=n[a]?n[a]+r:r,t in i)return t;o=null}}();(function(){var e=!1;try{var t=document.createEvent("TouchEvent");t.initEvent("touchstart"),e=!0}catch(n){}return e})(),function(){return!("undefined"==typeof AnimationEvent&&"undefined"==typeof WebKitAnimationEvent)}(),function(){return!("undefined"==typeof TransitionEvent&&"undefined"==typeof WebKitTransitionEvent)}();return n});